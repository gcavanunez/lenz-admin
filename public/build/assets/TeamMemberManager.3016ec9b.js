import{_ as e}from"./ActionMessage.8f5478c1.js";import{_ as o}from"./Modal.dd37111d.js";import{_ as a}from"./Button.fec46e4f.js";import{_ as t}from"./ConfirmationModal.a4fbe44e.js";import{_ as r}from"./DangerButton.a9eb63cb.js";import{_ as n}from"./DialogModal.0de067de.js";import{_ as s}from"./FormSection.5f765ba6.js";import{_ as l}from"./Input.50ab76f7.js";import{_ as m}from"./InputError.f1d04133.js";import{_ as i}from"./Label.e57b6dd2.js";import{_ as d}from"./SecondaryButton.b9140fe7.js";import{_ as c}from"./SectionBorder.a457ee0f.js";import{f as u,r as b,o as p,d as v,g,w as f,e as y,F as h,y as k,n as M,t as T,k as R,x}from"./vendor.29602760.js";import"./SectionTitle.eb211a08.js";const F=u({components:{JetActionMessage:e,JetActionSection:o,JetButton:a,JetConfirmationModal:t,JetDangerButton:r,JetDialogModal:n,JetFormSection:s,JetInput:l,JetInputError:m,JetLabel:i,JetSecondaryButton:d,JetSectionBorder:c},props:["team","availableRoles","userPermissions"],data(){return{addTeamMemberForm:this.$inertia.form({email:"",role:null}),updateRoleForm:this.$inertia.form({role:null}),leaveTeamForm:this.$inertia.form(),removeTeamMemberForm:this.$inertia.form(),currentlyManagingRole:!1,managingRoleFor:null,confirmingLeavingTeam:!1,teamMemberBeingRemoved:null}},methods:{addTeamMember(){this.addTeamMemberForm.post(route("team-members.store",this.team),{errorBag:"addTeamMember",preserveScroll:!0,onSuccess:()=>this.addTeamMemberForm.reset()})},cancelTeamInvitation(e){this.$inertia.delete(route("team-invitations.destroy",e),{preserveScroll:!0})},manageRole(e){this.managingRoleFor=e,this.updateRoleForm.role=e.membership.role,this.currentlyManagingRole=!0},updateRole(){this.updateRoleForm.put(route("team-members.update",[this.team,this.managingRoleFor]),{preserveScroll:!0,onSuccess:()=>this.currentlyManagingRole=!1})},confirmLeavingTeam(){this.confirmingLeavingTeam=!0},leaveTeam(){this.leaveTeamForm.delete(route("team-members.destroy",[this.team,this.$page.props.user]))},confirmTeamMemberRemoval(e){this.teamMemberBeingRemoved=e},removeTeamMember(){this.removeTeamMemberForm.delete(route("team-members.destroy",[this.team,this.teamMemberBeingRemoved]),{errorBag:"removeTeamMember",preserveScroll:!0,preserveState:!0,onSuccess:()=>this.teamMemberBeingRemoved=null})},displayableRole(e){return this.availableRoles.find((o=>o.key===e)).name}}}),j={key:0},C=x(" Add Team Member "),_=x(" Add a new team member to your team, allowing them to collaborate with you. "),w=y("div",{class:"col-span-6"},[y("div",{class:"max-w-xl text-sm text-gray-600"}," Please provide the email address of the person you would like to add to this team. ")],-1),S={class:"col-span-6 sm:col-span-4"},B={key:0,class:"col-span-6 lg:col-span-4"},A={class:"\n                                relative\n                                z-0\n                                mt-1\n                                border border-gray-200\n                                rounded-lg\n                                cursor-pointer\n                            "},L=["onClick"],J={class:"flex items-center"},P={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},I=[y("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)],$={class:"\n                                            mt-2\n                                            text-xs text-gray-600 text-left\n                                        "},z=x(" Added. "),D=x(" Add "),E={key:1},V=x(" Pending Team Invitations "),O=x(" These people have been invited to your team and have been sent an invitation email. They may join the team by accepting the email invitation. "),U={class:"space-y-6"},q={class:"text-gray-600"},G={class:"flex items-center"},H=["onClick"],K={key:2},N=x(" Team Members "),Q=x(" All of the people that are part of this team. "),W={class:"space-y-6"},X={class:"flex items-center"},Y=["src","alt"],Z={class:"ml-4"},ee={class:"flex items-center"},oe=["onClick"],ae={key:1,class:"ml-2 text-sm text-gray-400"},te=["onClick"],re=x(" Manage Role "),ne={key:0},se={class:"\n                            relative\n                            z-0\n                            mt-1\n                            border border-gray-200\n                            rounded-lg\n                            cursor-pointer\n                        "},le=["onClick"],me={class:"flex items-center"},ie={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},de=[y("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)],ce={class:"mt-2 text-xs text-gray-600"},ue=x(" Cancel "),be=x(" Save "),pe=x(" Leave Team "),ve=x(" Are you sure you would like to leave this team? "),ge=x(" Cancel "),fe=x(" Leave "),ye=x(" Remove Team Member "),he=x(" Are you sure you would like to remove this person from the team? "),ke=x(" Cancel "),Me=x(" Remove ");F.render=function(e,o,a,t,r,n){const s=b("jet-section-border"),l=b("jet-label"),m=b("jet-input"),i=b("jet-input-error"),d=b("jet-action-message"),c=b("jet-button"),u=b("jet-form-section"),x=b("jet-action-section"),F=b("jet-secondary-button"),Te=b("jet-dialog-modal"),Re=b("jet-danger-button"),xe=b("jet-confirmation-modal");return p(),v("div",null,[e.userPermissions.canAddTeamMembers?(p(),v("div",j,[g(s),g(u,{onSubmitted:e.addTeamMember},{title:f((()=>[C])),description:f((()=>[_])),form:f((()=>[w,y("div",S,[g(l,{for:"email",value:"Email"}),g(m,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e.addTeamMemberForm.email,"onUpdate:modelValue":o[0]||(o[0]=o=>e.addTeamMemberForm.email=o)},null,8,["modelValue"]),g(i,{message:e.addTeamMemberForm.errors.email,class:"mt-2"},null,8,["message"])]),e.availableRoles.length>0?(p(),v("div",B,[g(l,{for:"roles",value:"Role"}),g(i,{message:e.addTeamMemberForm.errors.role,class:"mt-2"},null,8,["message"]),y("div",A,[(p(!0),v(h,null,k(e.availableRoles,((o,a)=>(p(),v("button",{type:"button",class:M(["\n                                    relative\n                                    px-4\n                                    py-3\n                                    inline-flex\n                                    w-full\n                                    rounded-lg\n                                    focus:z-10\n                                    focus:outline-none\n                                    focus:border-blue-300\n                                    focus:ring\n                                    focus:ring-blue-200\n                                ",{"border-t border-gray-200 rounded-t-none":a>0,"rounded-b-none":a!=Object.keys(e.availableRoles).length-1}]),onClick:a=>e.addTeamMemberForm.role=o.key,key:o.key},[y("div",{class:M({"opacity-50":e.addTeamMemberForm.role&&e.addTeamMemberForm.role!=o.key})},[y("div",J,[y("div",{class:M(["text-sm text-gray-600",{"font-semibold":e.addTeamMemberForm.role==o.key}])},T(o.name),3),e.addTeamMemberForm.role==o.key?(p(),v("svg",P,I)):R("",!0)]),y("div",$,T(o.description),1)],2)],10,L)))),128))])])):R("",!0)])),actions:f((()=>[g(d,{on:e.addTeamMemberForm.recentlySuccessful,class:"mr-3"},{default:f((()=>[z])),_:1},8,["on"]),g(c,{class:M({"opacity-25":e.addTeamMemberForm.processing}),disabled:e.addTeamMemberForm.processing},{default:f((()=>[D])),_:1},8,["class","disabled"])])),_:1},8,["onSubmitted"])])):R("",!0),e.team.team_invitations.length>0&&e.userPermissions.canAddTeamMembers?(p(),v("div",E,[g(s),g(x,{class:"mt-10 sm:mt-0"},{title:f((()=>[V])),description:f((()=>[O])),content:f((()=>[y("div",U,[(p(!0),v(h,null,k(e.team.team_invitations,(o=>(p(),v("div",{class:"flex items-center justify-between",key:o.id},[y("div",q,T(o.email),1),y("div",G,[e.userPermissions.canRemoveTeamMembers?(p(),v("button",{key:0,class:"\n                                        cursor-pointer\n                                        ml-6\n                                        text-sm text-red-500\n                                        focus:outline-none\n                                    ",onClick:a=>e.cancelTeamInvitation(o)}," Cancel ",8,H)):R("",!0)])])))),128))])])),_:1})])):R("",!0),e.team.users.length>0?(p(),v("div",K,[g(s),g(x,{class:"mt-10 sm:mt-0"},{title:f((()=>[N])),description:f((()=>[Q])),content:f((()=>[y("div",W,[(p(!0),v(h,null,k(e.team.users,(a=>(p(),v("div",{class:"flex items-center justify-between",key:a.id},[y("div",X,[y("img",{class:"w-8 h-8 rounded-full",src:a.profile_photo_url,alt:a.name},null,8,Y),y("div",Z,T(a.name),1)]),y("div",ee,[e.userPermissions.canAddTeamMembers&&e.availableRoles.length?(p(),v("button",{key:0,class:"ml-2 text-sm text-gray-400 underline",onClick:o=>e.manageRole(a)},T(e.displayableRole(a.membership.role)),9,oe)):e.availableRoles.length?(p(),v("div",ae,T(e.displayableRole(a.membership.role)),1)):R("",!0),e.$page.props.user.id===a.id?(p(),v("button",{key:2,class:"\n                                        cursor-pointer\n                                        ml-6\n                                        text-sm text-red-500\n                                    ",onClick:o[1]||(o[1]=(...o)=>e.confirmLeavingTeam&&e.confirmLeavingTeam(...o))}," Leave ")):R("",!0),e.userPermissions.canRemoveTeamMembers?(p(),v("button",{key:3,class:"\n                                        cursor-pointer\n                                        ml-6\n                                        text-sm text-red-500\n                                    ",onClick:o=>e.confirmTeamMemberRemoval(a)}," Remove ",8,te)):R("",!0)])])))),128))])])),_:1})])):R("",!0),g(Te,{show:e.currentlyManagingRole,onClose:o[3]||(o[3]=o=>e.currentlyManagingRole=!1)},{title:f((()=>[re])),content:f((()=>[e.managingRoleFor?(p(),v("div",ne,[y("div",se,[(p(!0),v(h,null,k(e.availableRoles,((o,a)=>(p(),v("button",{type:"button",class:M(["\n                                relative\n                                px-4\n                                py-3\n                                inline-flex\n                                w-full\n                                rounded-lg\n                                focus:z-10\n                                focus:outline-none\n                                focus:border-blue-300\n                                focus:ring\n                                focus:ring-blue-200\n                            ",{"border-t border-gray-200 rounded-t-none":a>0,"rounded-b-none":a!==Object.keys(e.availableRoles).length-1}]),onClick:a=>e.updateRoleForm.role=o.key,key:o.key},[y("div",{class:M({"opacity-50":e.updateRoleForm.role&&e.updateRoleForm.role!==o.key})},[y("div",me,[y("div",{class:M(["text-sm text-gray-600",{"font-semibold":e.updateRoleForm.role===o.key}])},T(o.name),3),e.updateRoleForm.role===o.key?(p(),v("svg",ie,de)):R("",!0)]),y("div",ce,T(o.description),1)],2)],10,le)))),128))])])):R("",!0)])),footer:f((()=>[g(F,{onClick:o[2]||(o[2]=o=>e.currentlyManagingRole=!1)},{default:f((()=>[ue])),_:1}),g(c,{class:M(["ml-2",{"opacity-25":e.updateRoleForm.processing}]),onClick:e.updateRole,disabled:e.updateRoleForm.processing},{default:f((()=>[be])),_:1},8,["onClick","class","disabled"])])),_:1},8,["show"]),g(xe,{show:e.confirmingLeavingTeam,onClose:o[5]||(o[5]=o=>e.confirmingLeavingTeam=!1)},{title:f((()=>[pe])),content:f((()=>[ve])),footer:f((()=>[g(F,{onClick:o[4]||(o[4]=o=>e.confirmingLeavingTeam=!1)},{default:f((()=>[ge])),_:1}),g(Re,{class:M(["ml-2",{"opacity-25":e.leaveTeamForm.processing}]),onClick:e.leaveTeam,disabled:e.leaveTeamForm.processing},{default:f((()=>[fe])),_:1},8,["onClick","class","disabled"])])),_:1},8,["show"]),g(xe,{show:e.teamMemberBeingRemoved,onClose:o[7]||(o[7]=o=>e.teamMemberBeingRemoved=null)},{title:f((()=>[ye])),content:f((()=>[he])),footer:f((()=>[g(F,{onClick:o[6]||(o[6]=o=>e.teamMemberBeingRemoved=null)},{default:f((()=>[ke])),_:1}),g(Re,{class:M(["ml-2",{"opacity-25":e.removeTeamMemberForm.processing}]),onClick:e.removeTeamMember,disabled:e.removeTeamMemberForm.processing},{default:f((()=>[Me])),_:1},8,["onClick","class","disabled"])])),_:1},8,["show"])])};export{F as default};
