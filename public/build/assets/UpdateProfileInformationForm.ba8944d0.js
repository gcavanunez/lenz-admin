import{f as e,r as o,o as t,j as s,w as r,d as a,e as l,g as n,u as i,v as m,E as u,l as p,k as c,n as f,x as d}from"./vendor.29602760.js";import{_ as h}from"./Button.fec46e4f.js";import{_ as v}from"./FormSection.5f765ba6.js";import{_ as P}from"./Input.50ab76f7.js";import{_ as b}from"./InputError.f1d04133.js";import{_ as g}from"./Label.e57b6dd2.js";import{_ as j}from"./ActionMessage.8f5478c1.js";import{_ as w}from"./SecondaryButton.b9140fe7.js";import"./SectionTitle.eb211a08.js";const _=e({components:{JetActionMessage:j,JetButton:h,JetFormSection:v,JetInput:P,JetInputError:b,JetLabel:g,JetSecondaryButton:w},props:["user"],data(){return{form:this.$inertia.form({_method:"PUT",name:this.user.name,email:this.user.email,photo:null}),photoPreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>this.clearPhotoFileInput()})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const e=this.$refs.photo.files[0];if(!e)return;const o=new FileReader;o.onload=e=>{this.photoPreview=e.target.result},o.readAsDataURL(e)},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{this.photoPreview=null,this.clearPhotoFileInput()}})},clearPhotoFileInput(){var e;(null==(e=this.$refs.photo)?void 0:e.value)&&(this.$refs.photo.value=null)}}}),y=d(" Profile Information "),S=d(" Update your account's profile information and email address. "),k={key:0,class:"col-span-6 sm:col-span-4"},I={class:"mt-2"},$=["src","alt"],J={class:"mt-2"},F=d(" Select A New Photo "),V=d(" Remove Photo "),B={class:"col-span-6 sm:col-span-4"},C={class:"col-span-6 sm:col-span-4"},U=d(" Saved. "),A=d(" Save ");_.render=function(e,d,h,v,P,b){const g=o("jet-label"),j=o("jet-secondary-button"),w=o("jet-input-error"),_=o("jet-input"),E=o("jet-action-message"),N=o("jet-button"),x=o("jet-form-section");return t(),s(x,{onSubmitted:e.updateProfileInformation},{title:r((()=>[y])),description:r((()=>[S])),form:r((()=>[e.$page.props.jetstream.managesProfilePhotos?(t(),a("div",k,[l("input",{type:"file",class:"hidden",ref:"photo",onChange:d[0]||(d[0]=(...o)=>e.updatePhotoPreview&&e.updatePhotoPreview(...o))},null,544),n(g,{for:"photo",value:"Photo"}),i(l("div",I,[l("img",{src:e.user.profile_photo_url,alt:e.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,$)],512),[[m,!e.photoPreview]]),i(l("div",J,[l("span",{class:"\n                            block\n                            rounded-full\n                            w-20\n                            h-20\n                            bg-cover bg-no-repeat bg-center\n                        ",style:u("background-image: url('"+e.photoPreview+"');")},null,4)],512),[[m,e.photoPreview]]),n(j,{class:"mt-2 mr-2",type:"button",onClick:p(e.selectNewPhoto,["prevent"])},{default:r((()=>[F])),_:1},8,["onClick"]),e.user.profile_photo_path?(t(),s(j,{key:0,type:"button",class:"mt-2",onClick:p(e.deletePhoto,["prevent"])},{default:r((()=>[V])),_:1},8,["onClick"])):c("",!0),n(w,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):c("",!0),l("div",B,[n(g,{for:"name",value:"Name"}),n(_,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e.form.name,"onUpdate:modelValue":d[1]||(d[1]=o=>e.form.name=o),autocomplete:"name"},null,8,["modelValue"]),n(w,{message:e.form.errors.name,class:"mt-2"},null,8,["message"])]),l("div",C,[n(g,{for:"email",value:"Email"}),n(_,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e.form.email,"onUpdate:modelValue":d[2]||(d[2]=o=>e.form.email=o)},null,8,["modelValue"]),n(w,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])])])),actions:r((()=>[n(E,{on:e.form.recentlySuccessful,class:"mr-3"},{default:r((()=>[U])),_:1},8,["on"]),n(N,{class:f({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:r((()=>[A])),_:1},8,["class","disabled"])])),_:1},8,["onSubmitted"])};export{_ as default};
